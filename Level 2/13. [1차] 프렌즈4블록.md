jihyukim
```js
function solution(m, n, board) {
    const obj = {};
    board.forEach((el, i) => {
        for (let j = 0; j < n; j++) obj[i * n + j] = el[j];
    })
    
    const getDel = () => {
        const del = [];
        for (let i = 0; i < (m - 1) * n; i++) {
            const c = obj[i];
            if (c !== 0 && i % n !== n - 1 && obj[i + 1] === c
                && obj[i + n] === c && obj[i + n + 1] === c) {
                del.push(i, i + 1, i + n, i + n + 1);
            }
        }
        return [...new Set(del)];
    }
    
    const drop = (del) => {
        del.sort((a, b) => b - a).forEach((el) => {
            if (obj[el] === 0) {
                for (let i = el; i >= n; i -= n) {
                    for (let j = i; j >= 0; j -= n) {
                        if (obj[j] === 0) continue;
                        obj[i] = obj[j];
                        obj[j] = 0;
                        break;
                    }
                }
            }
        })
    }

    let ret = 0;
    while (1) {
        const del = getDel();
        if (!del.length) break;
        ret += del.length;
        del.forEach(el => obj[el] = 0);
        drop(del);
    }
    return ret;
}
```
